var ROSCONSOLE=ROSCONSOLE||{REVISION:"0.0.1"};ROSCONSOLE.isMobile=function(){var a={Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return a.Android()||a.BlackBerry()||a.iOS()||a.Opera()||a.Windows()}};return a},ROSCONSOLE.ROS3Dmap=function(a,b){b=b||{};var c=b.divID||"threed-map",d=b.width||200,e=b.height||200,f=b.path||"localhost",g=b.fixed_frame||"/odom";console.log(g);var h=new ROS3D.Viewer({divID:c,width:d,height:e,antialias:!0});window.onresize=function(a){var b=$(this).find('[data-role="header"]').height(),c=$(window).width()-32,d=$(window).height()-b-32-110;h.resize(c,d)},h.addObject(new ROS3D.Grid({size:20,cellSize:1}));var i=new ROSLIB.TFClient({ros:a,angularThres:.01,transThres:.01,rate:20,fixedFrame:g});new ROS3D.UrdfClient({ros:a,tfClient:i,path:"http://"+f+"/",rootObject:h.scene,loader:ROS3D.STL_LOADER}),new ROS3D.OccupancyGridClient({ros:a,rootObject:h.scene,continuous:!0}),new ROS3D.InteractiveMarkerClient({ros:a,tfClient:i,topic:"/twist_marker_server",camera:h.camera,rootObject:h.selectableObjects})},ROSCONSOLE.build_header=function(a){var b='<div data-role="header" data-theme="a" data-position="fixed">';b+="<h1>"+a+"</h1>",b+=ROSCONSOLE.build_navbar(),b+="</div>",$(b).prependTo("body").enhanceWithin(),$('[data-role="header"], [data-role="footer"]').toolbar({position:"fixed",tapToggle:!1}),$("[data-role=panel]").panel().enhanceWithin(),$.mobile.resetActivePageHeight(),$('[data-role="navbar"] a:first').addClass("ui-btn-active"),$(document).on("pageshow",'[data-role="page"]',function(){var a=$(this).jqmData("title");$('[data-role="navbar"] a.ui-btn-active').removeClass("ui-btn-active"),$('[data-role="navbar"] a').each(function(){$(this).text()===a&&($(this).addClass("ui-btn-active"),$("#navbar").trigger("page",a))})})},ROSCONSOLE.build_navbar=function(){for(var a=$('div:jqmData(role="page")'),b=ROSCONSOLE.isMobile().any()?'data-iconpos="left"':"",c='<div data-role="navbar" id="navbar"'+b+"><ul>",d=0;d<a.length;d++)c+='<li><a href="#'+$(a[d]).attr("id")+'" data-icon="'+$(a[d]).jqmData("icon")+'" data-transition="fade">'+$(a[d]).jqmData("title")+"</a></li>";return c+="</ul></div>"};